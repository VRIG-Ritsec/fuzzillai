std::basic_fstream - cppreference.com cppreference.com Create account Log in Namespaces Page Discussion Variants Views View Edit History Actions std:: basic_fstream From cppreference.com < cpp ‎ | io C++ Compiler support Freestanding and hosted Language Standard library Standard library headers Named requirements Feature test macros (C++20) Language support library Concepts library (C++20) Diagnostics library Memory management library Metaprogramming library (C++11) General utilities library Containers library Iterators library Ranges library (C++20) Algorithms library Strings library Text processing library Numerics library Date and time library Input/output library Filesystem library (C++17) Concurrency support library (C++11) Execution control library (C++26) Technical specifications Symbols index External libraries [edit] Input/output library I/O manipulators Print functions (C++23) C-style I/O Buffers basic_streambuf basic_filebuf basic_stringbuf basic_spanbuf (C++23) strstreambuf ( C++98/26* ) basic_syncbuf (C++20) Streams Abstractions ios_base basic_ios basic_istream basic_ostream basic_iostream File I/O basic_ifstream basic_ofstream basic_fstream String I/O basic_istringstream basic_ostringstream basic_stringstream Array I/O basic_ispanstream (C++23) basic_ospanstream (C++23) basic_spanstream (C++23) istrstream ( C++98/26* ) ostrstream ( C++98/26* ) strstream ( C++98/26* ) Synchronized Output basic_osyncstream (C++20) Types streamoff streamsize fpos Error category interface iostream_category (C++11) io_errc (C++11) [edit] std::basic_fstream Member functions basic_fstream::basic_fstream basic_fstream::operator= (C++11) basic_fstream::swap (C++11) basic_fstream::rdbuf basic_fstream::native_handle (C++26) File operations basic_fstream::is_open basic_fstream::open basic_fstream::close Non-member functions swap (std::basic_fstream) (C++11) [edit] Defined in header <fstream> template < class CharT, class Traits = std:: char_traits < CharT > > class basic_fstream : public std:: basic_iostream < CharT, Traits > The class template basic_fstream implements high-level input/output operations on file based streams. It interfaces a file-based streambuffer ( std::basic_filebuf ) with the high-level interface of ( std::basic_iostream ). A typical implementation of std::basic_fstream holds only one non-derived data member: an instance of std:: basic_filebuf < CharT, Traits > . Inheritance diagram Several typedefs for common character types are provided: Defined in header <fstream> Type Definition std::fstream std :: basic_fstream < char > std::wfstream std :: basic_fstream < wchar_t > Contents 1 Member types 2 Member functions 2.1 File operations 3 Non-member functions 4 Inherited from std:: basic_istream 4.1 Member functions 4.1.1 Formatted input 4.1.2 Unformatted input 4.1.3 Positioning 4.1.4 Miscellaneous 4.2 Member classes 5 Inherited from std:: basic_ostream 5.1 Member functions 5.1.1 Formatted output 5.1.2 Unformatted output 5.1.3 Positioning 5.1.4 Miscellaneous 5.2 Member classes 6 Inherited from std:: basic_ios 6.1 Member types 6.2 Member functions 6.2.1 State functions 6.2.2 Formatting 6.2.3 Miscellaneous 7 Inherited from std:: ios_base 7.1 Member functions 7.1.1 Formatting 7.1.2 Locales 7.1.3 Internal extensible array 7.1.4 Miscellaneous 7.1.5 Member classes 7.2 Member types and constants 7.3 Notes 7.4 Example 7.5 See also [ edit ] Member types Member type Definition char_type CharT [edit] traits_type Traits ; the program is ill-formed if Traits::char_type is not CharT . [edit] int_type Traits::int_type [edit] pos_type Traits::pos_type [edit] off_type Traits::off_type [edit] native_handle_type (C++26) implementation-defined type that is TriviallyCopyable and semiregular [edit] [ edit ] Member functions (constructor) constructs the file stream (public member function) [edit] (destructor) [virtual] (implicitly declared) destructs the basic_fstream and the associated buffer, closes the file (virtual public member function) [edit] operator= (C++11) moves the file stream (public member function) [edit] swap (C++11) swaps two file streams (public member function) [edit] rdbuf returns the underlying raw file device object (public member function) [edit] native_handle (C++26) returns the underlying implementation-defined handle (public member function) [edit] File operations is_open checks if the stream has an associated file (public member function) [edit] open opens a file and associates it with the stream (public member function) [edit] close closes the associated file (public member function) [edit] [ edit ] Non-member functions std::swap (std::basic_fstream) (C++11) specializes the std::swap algorithm (function template) [edit] Inherited from std:: basic_istream Member functions Formatted input operator>> extracts formatted data (public member function of std::basic_istream<CharT,Traits> ) [edit] Unformatted input get extracts characters (public member function of std::basic_istream<CharT,Traits> ) [edit] peek reads the next character without extracting it (public member function of std::basic_istream<CharT,Traits> ) [edit] unget unextracts a character (public member function of std::basic_istream<CharT,Traits> ) [edit] putback puts a character into input stream (public member function of std::basic_istream<CharT,Traits> ) [edit] getline extracts characters until the given character is found (public member function of std::basic_istream<CharT,Traits> ) [edit] ignore extracts and discards characters until the given character is found (public member function of std::basic_istream<CharT,Traits> ) [edit] read extracts blocks of characters (public member function of std::basic_istream<CharT,Traits> ) [edit] readsome extracts already available blocks of characters (public member function of std::basic_istream<CharT,Traits> ) [edit] gcount returns number of characters extracted by last unformatted input operation (public member function of std::basic_istream<CharT,Traits> ) [edit] Positioning tellg returns the input position indicator (public member function of std::basic_istream<CharT,Traits> ) [edit] seekg sets the input position indicator (public member function of std::basic_istream<CharT,Traits> ) [edit] Miscellaneous sync synchronizes with the underlying storage device (public member function of std::basic_istream<CharT,Traits> ) [edit] Member classes sentry implements basic logic for preparation of the stream for input operations (public member class of std::basic_istream<CharT,Traits> ) [edit] Inherited from std:: basic_ostream Member functions Formatted output operator<< inserts formatted data (public member function of std::basic_ostream<CharT,Traits> ) [edit] Unformatted output put inserts a character (public member function of std::basic_ostream<CharT,Traits> ) [edit] write inserts blocks of characters (public member function of std::basic_ostream<CharT,Traits> ) [edit] Positioning tellp returns the output position indicator (public member function of std::basic_ostream<CharT,Traits> ) [edit] seekp sets the output position indicator (public member function of std::basic_ostream<CharT,Traits> ) [edit] Miscellaneous flush synchronizes with the underlying storage device (public member function of std::basic_ostream<CharT,Traits> ) [edit] Member classes sentry implements basic logic for preparation of the stream for output operations (public member class of std::basic_ostream<CharT,Traits> ) [edit] Inherited from std:: basic_ios Member types Member type Definition char_type CharT traits_type Traits int_type Traits::int_type pos_type Traits::pos_type off_type Traits::off_type Member functions State functions good checks if no error has occurred i.e. I/O operations are available (public member function of std::basic_ios<CharT,Traits> ) [edit] eof checks if end-of-file has been reached (public member function of std::basic_ios<CharT,Traits> ) [edit] fail checks if an error has occurred (public member function of std::basic_ios<CharT,Traits> ) [edit] bad checks if a non-recoverable error has occurred (public member function of std::basic_ios<CharT,Traits> ) [edit] operator! checks if an error has occurred (synonym of fail() ) (public member function of std::basic_ios<CharT,Traits> ) [edit] operator bool checks if no error has occurred (synonym of ! fail() ) (public member function of std::basic_ios<CharT,Traits> ) [edit] rdstate returns state flags (public member function of std::basic_ios<CharT,Traits> ) [edit] setstate sets state flags (public member function of std::basic_ios<CharT,Traits> ) [edit] clear modifies state flags (public member function of std::basic_ios<CharT,Traits> ) [edit] Formatting copyfmt copies formatting information (public member function of std::basic_ios<CharT,Traits> ) [edit] fill manages the fill character (public member function of std::basic_ios<CharT,Traits> ) [edit] Miscellaneous exceptions manages exception mask (public member function of std::basic_ios<CharT,Traits> ) [edit] imbue sets the locale (public member function of std::basic_ios<CharT,Traits> ) [edit] rdbuf manages associated stream buffer (public member function of std::basic_ios<CharT,Traits> ) [edit] tie manages tied stream (public member function of std::basic_ios<CharT,Traits> ) [edit] narrow narrows characters (public member function of std::basic_ios<CharT,Traits> ) [edit] widen widens characters (public member function of std::basic_ios<CharT,Traits> ) [edit] Inherited from std:: ios_base Member functions Formatting flags manages format flags (public member function of std::ios_base ) [edit] setf sets specific format flag (public member function of std::ios_base ) [edit] unsetf clears specific format flag (public member function of std::ios_base ) [edit] precision manages decimal precision of floating point operations (public member function of std::ios_base ) [edit] width manages field width (public member function of std::ios_base ) [edit] Locales imbue sets locale (public member function of std::ios_base ) [edit] getloc returns current locale (public member function of std::ios_base ) [edit] Internal extensible array xalloc [static] returns a program-wide unique integer that is safe to use as index to pword() and iword() (public static member function of std::ios_base ) [edit] iword resizes the private storage if necessary and access to the long element at the given index (public member function of std::ios_base ) [edit] pword resizes the private storage if necessary and access to the void * element at the given index (public member function of std::ios_base ) [edit] Miscellaneous register_callback registers event callback function (public member function of std::ios_base ) [edit] sync_with_stdio [static] sets whether C++ and C I/O libraries are interoperable (public static member function of std::ios_base ) [edit] Member classes failure stream exception (public member class of std::ios_base ) [edit] Init initializes standard stream objects (public member class of std::ios_base ) [edit] Member types and constants Type Explanation openmode stream open mode type The following constants are also defined: Constant Explanation [edit] app seek to the end of stream before each write [edit] binary open in binary mode [edit] in open for reading [edit] out open for writing [edit] trunc discard the contents of the stream when opening [edit] ate seek to the end of stream immediately after open [edit] noreplace (C++23) open in exclusive mode [edit] (typedef) [edit] fmtflags formatting flags type The following constants are also defined: Constant Explanation [edit] dec use decimal base for integer I/O: see std::dec [edit] oct use octal base for integer I/O: see std::oct [edit] hex use hexadecimal base for integer I/O: see std::hex [edit] basefield dec | oct | hex . Useful for masking operations [edit] left left adjustment (adds fill characters to the right): see std::left [edit] right right adjustment (adds fill characters to the left): see std::right [edit] internal internal adjustment (adds fill characters to the internal designated point): see std::internal [edit] adjustfield left | right | internal . Useful for masking operations [edit] scientific generate floating point types using scientific notation, or hex notation if combined with fixed : see std::scientific [edit] fixed generate floating point types using fixed notation, or hex notation if combined with scientific : see std::fixed [edit] floatfield scientific | fixed . Useful for masking operations [edit] boolalpha insert and extract bool type in alphanumeric format: see std::boolalpha [edit] showbase generate a prefix indicating the numeric base for integer output, require the currency indicator in monetary I/O: see std::showbase [edit] showpoint generate a decimal-point character unconditionally for floating-point number output: see std::showpoint [edit] showpos generate a + character for non-negative numeric output: see std::showpos [edit] skipws skip leading whitespace before certain input operations: see std::skipws [edit] unitbuf flush the output after each output operation: see std::unitbuf [edit] uppercase replace certain lowercase letters with their uppercase equivalents in certain output operations: see std::uppercase [edit] (typedef) [edit] iostate state of the stream type The following constants are also defined: Constant Explanation [edit] goodbit no error [edit] badbit irrecoverable stream error [edit] failbit input/output operation failed (formatting or extraction error) [edit] eofbit associated input sequence has reached end-of-file [edit] (typedef) [edit] seekdir seeking direction type The following constants are also defined: Constant Explanation [edit] beg the beginning of a stream [edit] end the ending of a stream [edit] cur the current position of stream position indicator [edit] (typedef) [edit] event specifies event type (enum) [edit] event_callback callback function type (typedef) [edit] [ edit ] Notes Feature-test macro Value Std Feature __cpp_lib_fstream_native_handle 202306L (C++26) native handles support [ edit ] Example Run this code #include <fstream> #include <iostream> #include <string> int main ( ) { std:: string filename { "test.bin" } ; std :: fstream s { filename, s. binary | s. trunc | s. in | s. out } ; if ( ! s. is_open ( ) ) std:: cout << "failed to open " << filename << ' \n ' ; else { // write double d { 3.14 } ; s. write ( reinterpret_cast < char * > ( & d ) , sizeof d ) ; // binary output s << 123 << "abc" ; // text output // for fstream, this moves the file position pointer (both put and get) s. seekp ( 0 ) ; // read d = 2.71828 ; s. read ( reinterpret_cast < char * > ( & d ) , sizeof d ) ; // binary input int n ; std:: string str ; if ( s >> n >> str ) // text input std:: cout << "read back from file: " << d << ' ' << n << ' ' << str << ' \n ' ; } } Output: read back from file: 3.14 123 abc [ edit ] See also getline read data from an I/O stream into a string (function template) [edit] Retrieved from " https://en.cppreference.com/mwiki/index.php?title=cpp/io/basic_fstream&oldid=156283 " Navigation Support us Recent changes FAQ Offline version Toolbox What links here Related changes Upload file Special pages Printable version Permanent link Page information In other languages Deutsch Español Français Italiano 日本語 Português Русский 中文 This page was last modified on 4 August 2023, at 06:15. Privacy policy About cppreference.com Disclaimers